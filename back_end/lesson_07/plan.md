# Lesson plan No. 7 01/17/2024




----------------------------------------------------------

## План занятия №7 17.01.2024:

1. Что мы сделали вчера?
- тестирование сервисного слоя приложения:
    - UserRepositoryFileImplTest.java
        - создание временного тестового файла
        - удаление временного тестового файла
        - проверка корректности формирования строки в файле
        - проверка получения списка пользователей из файла

    - UserServiceImplTest.java
        - реакция на некорректный email
        - реакция на некорректный password
        - реакция на попытку создать уже существующего пользователя
        - проверка создания пользователя

    - реализация метода void updateUser()
        - добавляем вызов команды в Main -> вызываем сервис
        - добавляем метод в сервис UserService -> вызываем репозиторий
        - добавляем метод в репозиторий -> обновляем файл

2. Домашнее задание было:
   * Написать тесты на репозиторий и сервис (аналогично, как делалось на занятии)
   * Реализовать метод updateEvent()

Какие вопросы, трудности?

3. План действий на текущее занятие:
    - добавляем слой validation для email и password
      - interface EmailValidator
      - interface PasswordValidator
        - impl
          - EmailNotEmptyValidatorImpl
          - EmailValidatorRegexImpl
          - PasswordNotEmptyValidatorImpl
          - PasswordValidatorRegexImpl
    - внедряем валидаторы в UserService
    - обновляем Main, строим диаграмму классов и зависимостей
    - понимаем, что даже с одной сущностью User уже, мягко говоря, много классов и их связей, а сущностей может быть очень много 
    - внедряем Spring Context (Spring-контейнер):
      - добавляем в pom.xml зависимость на spring-context
      - создаем новый класс AppConfig с аннотациями @Bean, тем самым передаем в Spring управление объектами, которые будут работать в приложении - это называется **Inversion of Control (IoC)**
      - изучаем теорию, см. раздел Теория
      - делаем Main 2, в который внедряем Spring Context и все созданные бины
      - убеждаемся, что приложение работает под управлением Spring


   









